<!-- Component style in "document" scope -->
<style data-auto-merge="mythix-modal">
  mythix-modal {
    display: flex;
    position: relative;
  }
</style>

<!-- Template template (this will be inclued in all other templates) -->
<template data-for="*|">
  <style>
    dialog[open],dialog > * {
      position: relative;
      display: flex;
      box-sizing: border-box;
    }

    dialog > * {
      padding: var(--theme-padding, 1rem);
    }

    dialog[open] {
      flex-direction: column;
      padding: 0;
      border-color: var(--theme-primary-border-color, #333);
      align-items: stretch;
      border-style: var(--theme-border-style, solid);
      border-color: var(--theme-primary-border-color, rgba(128, 128, 128, 0.25));
      border-width: var(--theme-border-width, 0.125rem);
      border-radius: var(--theme-border-radius, 0);
      overflow: hidden;
    }

    dialog::backdrop {
      background-color: rgba(0, 0, 0, 0.5);
    }

    dialog > header {
      flex-direction: row;
      flex-shrink: 0;
      flex-grow: 0;
      user-select: none;
      border-style: var(--theme-border-style, solid);
      border-color: var(--theme-primary-border-color, rgba(128, 128, 128, 0.25));
      border-width: 0;
      border-radius: 0;
      border-bottom-width: var(--theme-border-width, 0.125rem);
    }

    dialog > header .caption-container {
      display: flex;
      flex-grow: 1;
      flex-shrink: 0;
      align-items: center;
      justify-content: center;
    }

    dialog > header .header-buttons-container {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: flex-end;
    }

    dialog > main {
      flex-direction: column;
      flex-shrink: 0;
      flex-grow: 0;
      user-select: none;
      padding-top: 0;
      padding-bottom: 0;
      overflow: auto;
    }

    dialog > footer {
      flex-direction: row;
      flex-shrink: 0;
      flex-grow: 0;
      user-select: none;
      align-items: center;
      justify-content: flex-end;
      border-style: var(--theme-border-style, solid);
      border-color: var(--theme-primary-border-color, rgba(128, 128, 128, 0.25));
      border-width: 0;
      border-radius: 0;
      border-top-width: var(--theme-border-width, 0.125rem);
      gap: var(--theme-padding, 0.5em);
    }
  </style>
</template>

<!-- Component style in "shadow" scope -->
<template data-for="mythix-modal">
  <dialog class="root-container" part="dialog root">
    <header part="header">
      <div class="caption-container" part="caption-container">
        <slot onslotchange="onHeaderCaptionSlotChange" name="caption">
          <span part="caption">@@attributes.title || $$.i18n('Mythix.MythixModal.header.caption', 'Dialog')@@</span>
        </slot>
      </div>
      <div class="header-buttons-container">
        <slot onslotchange="onHeaderButtonsSlotChange" name="header-buttons"></slot>
      </div>
    </header>
    <main part="main">
      <slot onslotchange="onMainSlotChange"></slot>
    </main>
    <footer part="footer">
      <slot onslotchange="onFooterSlotChange" name="footer"></slot>
    </footer>
  </dialog>
</template>

<template data-for="mythix-alert-modal">
  <dialog class="root-container" part="dialog root">
    <header part="header">
      <div class="caption-container" part="caption-container">
        <slot onslotchange="onHeaderCaptionSlotChange" name="caption">
          <span part="caption">@@attributes.title || $$.i18n('Mythix.MythixModal.Alert.header.caption', 'Alert')@@</span>
        </slot>
      </div>
      <div class="header-buttons-container">
        <slot onslotchange="onHeaderButtonsSlotChange" name="header-buttons"></slot>
      </div>
    </header>
    <main part="main">
      <slot onslotchange="onMainSlotChange"></slot>
    </main>
    <footer part="footer">
      <slot onslotchange="onFooterSlotChange" name="footer">
        <button part="confirmButton" onclick="this.setReturnValue(true)">@@$$.i18n('Mythix.MythixModal.Alert.confirmButton.caption', 'Okay')@@</button>
      </slot>
    </footer>
  </dialog>
</template>

<template data-for="mythix-prompt-modal">
  <dialog class="root-container" part="dialog root">
    <header part="header">
      <div class="caption-container" part="caption-container">
        <slot onslotchange="onHeaderCaptionSlotChange" name="caption">
          <span part="caption">@@attributes.title || $$.i18n('Mythix.MythixModal.Prompt.header.caption', 'Prompt')@@</span>
        </slot>
      </div>
      <div class="header-buttons-container">
        <slot onslotchange="onHeaderButtonsSlotChange" name="header-buttons"></slot>
      </div>
    </header>
    <main part="main">
      <slot onslotchange="onMainSlotChange"></slot>
    </main>
    <footer part="footer">
      <slot onslotchange="onFooterSlotChange" name="footer">
        <button part="denyButton" onclick="this.setReturnValue(false)">@@$$.i18n('Mythix.MythixModal.Prompt.denyButton.caption', 'No')@@</button>
        <button part="confirmButton" onclick="this.setReturnValue(true)">@@$$.i18n('Mythix.MythixModal.Prompt.confirmButton.caption', 'Yes')@@</button>
      </slot>
    </footer>
  </dialog>
</template>

<mythix-language-pack lang="en" src="lang/en.json"></mythix-language-pack>
<mythix-language-pack lang="es" src="lang/es.json"></mythix-language-pack>

<script type="module" src="./mythix-ui-modal.js"></script>